/**
 * Minified by jsDelivr using Terser v5.14.1.
 * Original file: /npm/@fullcalendar/daygrid@5.11.3/main.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
/*!
FullCalendar v5.11.3
Docs & License: https://fullcalendar.io/
(c) 2022 Adam Shaw
*/
import"./main.css";import{createRef,getStickyHeaderDates,createElement,ViewRoot,SimpleScrollGrid,getStickyFooterScrollbar,renderScrollShim,DateComponent,buildNavLinkAttrs,DayCellContent,Fragment,BaseComponent,createFormatter,StandardEvent,buildSegTimeText,EventRoot,getSegAnchorAttrs,memoize,MoreLinkRoot,getSegMeta,createAriaClickAttrs,getUniqueDomId,setRef,DayCellRoot,WeekNumberRoot,buildEntryKey,intersectSpans,SegHierarchy,intersectRanges,addDays,RefMap,sortEventSegs,isPropsEqual,buildEventRangeKey,BgEvent,renderFill,PositionCache,NowTimer,Slicer,DayHeader,DaySeriesModel,DayTableModel,addWeeks,diffWeeks,DateProfileGenerator,createPlugin}from"@fullcalendar/common";import{__extends,__assign,__spreadArray}from"tslib";var TableView=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.headerElRef=createRef(),t}return __extends(t,e),t.prototype.renderSimpleLayout=function(e,t){var n=this.props,r=this.context,a=[],s=getStickyHeaderDates(r.options);return e&&a.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),createElement(ViewRoot,{viewSpec:r.viewSpec},(function(e,t){return createElement("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},createElement(SimpleScrollGrid,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:a}))}))},t.prototype.renderHScrollLayout=function(e,t,n,r){var a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");var s=this.props,i=this.context,o=!s.forPrint&&getStickyHeaderDates(i.options),l=!s.forPrint&&getStickyFooterScrollbar(i.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:o,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),l&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:renderScrollShim}]}),createElement(ViewRoot,{viewSpec:i.viewSpec},(function(e,t){return createElement("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},createElement(a,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:n,minWidth:r}]}],sections:d}))}))},t}(DateComponent);function splitSegsByRow(e,t){for(var n=[],r=0;r<t;r+=1)n[r]=[];for(var a=0,s=e;a<s.length;a++){var i=s[a];n[i.row].push(i)}return n}function splitSegsByFirstCol(e,t){for(var n=[],r=0;r<t;r+=1)n[r]=[];for(var a=0,s=e;a<s.length;a++){var i=s[a];n[i.firstCol].push(i)}return n}function splitInteractionByRow(e,t){var n=[];if(e){for(i=0;i<t;i+=1)n[i]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var r=0,a=e.segs;r<a.length;r++){var s=a[r];n[s.row].segs.push(s)}}else for(var i=0;i<t;i+=1)n[i]=null;return n}var TableCellTop=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){var e=this.props,t=buildNavLinkAttrs(this.context,e.date);return createElement(DayCellContent,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraHookProps:e.extraHookProps,defaultContent:renderTopInner},(function(n,r){return(r||e.forceDayTop)&&createElement("div",{className:"fc-daygrid-day-top",ref:n},createElement("a",__assign({id:e.dayNumberId,className:"fc-daygrid-day-number"},t),r||createElement(Fragment,null," ")))}))},t}(BaseComponent);function renderTopInner(e){return e.dayNumberText}var DEFAULT_TABLE_EVENT_TIME_FORMAT=createFormatter({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function hasListItemDisplay(e){var t=e.eventRange.ui.display;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}var TableBlockEvent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){var e=this.props;return createElement(StandardEvent,__assign({},e,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:DEFAULT_TABLE_EVENT_TIME_FORMAT,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))},t}(BaseComponent),TableListItemEvent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options.eventTimeFormat||DEFAULT_TABLE_EVENT_TIME_FORMAT,r=buildSegTimeText(e.seg,n,t,!0,e.defaultDisplayEventEnd);return createElement(EventRoot,{seg:e.seg,timeText:r,defaultContent:renderInnerContent,isDragging:e.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:e.isSelected,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},(function(n,r,a,s){return createElement("a",__assign({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(r).join(" "),ref:n},getSegAnchorAttrs(e.seg,t)),s)}))},t}(BaseComponent);function renderInnerContent(e){return createElement(Fragment,null,createElement("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&createElement("div",{className:"fc-event-time"},e.timeText),createElement("div",{className:"fc-event-title"},e.event.title||createElement(Fragment,null," ")))}var TableCellMoreLink=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.compileSegs=memoize(compileSegs),t}return __extends(t,e),t.prototype.render=function(){var e=this.props,t=this.compileSegs(e.singlePlacements),n=t.allSegs,r=t.invisibleSegs;return createElement(MoreLinkRoot,{dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:function(){var t=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return createElement(Fragment,null,n.map((function(n){var r=n.eventRange.instance.instanceId;return createElement("div",{className:"fc-daygrid-event-harness",key:r,style:{visibility:t[r]?"hidden":""}},hasListItemDisplay(n)?createElement(TableListItemEvent,__assign({seg:n,isDragging:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},getSegMeta(n,e.todayRange))):createElement(TableBlockEvent,__assign({seg:n,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},getSegMeta(n,e.todayRange))))})))}},(function(e,t,n,r,a,s,i,o){return createElement("a",__assign({ref:e,className:["fc-daygrid-more-link"].concat(t).join(" "),title:s,"aria-expanded":i,"aria-controls":o},createAriaClickAttrs(a)),r)}))},t}(BaseComponent);function compileSegs(e){for(var t=[],n=[],r=0,a=e;r<a.length;r++){var s=a[r];t.push(s.seg),s.isVisible||n.push(s.seg)}return{allSegs:t,invisibleSegs:n}}var DEFAULT_WEEK_NUM_FORMAT=createFormatter({week:"narrow"}),TableCell=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=createRef(),t.state={dayNumberId:getUniqueDomId()},t.handleRootEl=function(e){setRef(t.rootElRef,e),setRef(t.props.elRef,e)},t}return __extends(t,e),t.prototype.render=function(){var e=this,t=e.context,n=e.props,r=e.state,a=e.rootElRef,s=n.date,i=n.dateProfile,o=buildNavLinkAttrs(t,s,"week");return createElement(DayCellRoot,{date:s,dateProfile:i,todayRange:n.todayRange,showDayNumber:n.showDayNumber,extraHookProps:n.extraHookProps,elRef:this.handleRootEl},(function(e,t,l,d){return createElement("td",__assign({ref:e,role:"gridcell",className:["fc-daygrid-day"].concat(t,n.extraClassNames||[]).join(" ")},l,n.extraDataAttrs,n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),createElement("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:n.innerElRef},n.showWeekNumber&&createElement(WeekNumberRoot,{date:s,defaultFormat:DEFAULT_WEEK_NUM_FORMAT},(function(e,t,n,r){return createElement("a",__assign({ref:e,className:["fc-daygrid-week-number"].concat(t).join(" ")},o),r)})),!d&&createElement(TableCellTop,{date:s,dateProfile:i,showDayNumber:n.showDayNumber,dayNumberId:r.dayNumberId,forceDayTop:n.forceDayTop,todayRange:n.todayRange,extraHookProps:n.extraHookProps}),createElement("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,createElement("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},createElement(TableCellMoreLink,{allDayDate:s,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:a,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),createElement("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}))},t}(DateComponent);function computeFgSegPlacement(e,t,n,r,a,s,i){var o=new DayGridSegHierarchy;o.allowReslicing=!0,o.strictOrder=r,!0===t||!0===n?(o.maxCoord=s,o.hiddenConsumes=!0):"number"==typeof t?o.maxStackCnt=t:"number"==typeof n&&(o.maxStackCnt=n,o.hiddenConsumes=!0);for(var l=[],d=[],c=0;c<e.length;c+=1){var g=a[(T=e[c]).eventRange.instance.instanceId];null!=g?l.push({index:c,thickness:g,span:{start:T.firstCol,end:T.lastCol+1}}):d.push(T)}for(var u=o.addSegs(l),p=placeRects(o.toRects(),e,i),f=p.singleColPlacements,h=p.multiColPlacements,y=p.leftoverMargins,m=[],v=[],E=0,R=d;E<R.length;E++){h[(T=R[E]).firstCol].push({seg:T,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var b=T.firstCol;b<=T.lastCol;b+=1)f[b].push({seg:resliceSeg(T,b,b+1,i),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(b=0;b<i.length;b+=1)m.push(0);for(var S=0,D=u;S<D.length;S++){var C=D[S],T=e[C.index],w=C.span;h[w.start].push({seg:resliceSeg(T,w.start,w.end,i),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(b=w.start;b<w.end;b+=1)m[b]+=1,f[b].push({seg:resliceSeg(T,b,b+1,i),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(b=0;b<i.length;b+=1)v.push(y[b]);return{singleColPlacements:f,multiColPlacements:h,moreCnts:m,moreMarginTops:v}}function placeRects(e,t,n){for(var r=groupRectsByEachCol(e,n.length),a=[],s=[],i=[],o=0;o<n.length;o+=1){for(var l=r[o],d=[],c=0,g=0,u=0,p=l;u<p.length;u++){var f=t[(v=p[u]).index];d.push({seg:resliceSeg(f,o,o+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:v.levelCoord-c}),c=v.levelCoord+v.thickness}var h=[];c=0,g=0;for(var y=0,m=l;y<m.length;y++){f=t[(v=m[y]).index];var v,E=v.span.end-v.span.start>1,R=v.span.start===o;g+=v.levelCoord-c,c=v.levelCoord+v.thickness,E?(g+=v.thickness,R&&h.push({seg:resliceSeg(f,v.span.start,v.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:v.levelCoord,marginTop:0})):R&&(h.push({seg:resliceSeg(f,v.span.start,v.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:g}),g=0)}a.push(d),s.push(h),i.push(g)}return{singleColPlacements:a,multiColPlacements:s,leftoverMargins:i}}function groupRectsByEachCol(e,t){for(var n=[],r=0;r<t;r+=1)n.push([]);for(var a=0,s=e;a<s.length;a++){var i=s[a];for(r=i.span.start;r<i.span.end;r+=1)n[r].push(i)}return n}function resliceSeg(e,t,n,r){if(e.firstCol===t&&e.lastCol===n-1)return e;var a=e.eventRange,s=a.range,i=intersectRanges(s,{start:r[t].date,end:addDays(r[n-1].date,1)});return __assign(__assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:a.def,ui:__assign(__assign({},a.ui),{durationEditable:!1}),instance:a.instance,range:i},isStart:e.isStart&&i.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&i.end.valueOf()===s.end.valueOf()})}var DayGridSegHierarchy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hiddenConsumes=!1,t.forceHidden={},t}return __extends(t,e),t.prototype.addSegs=function(t){for(var n=this,r=e.prototype.addSegs.call(this,t),a=this.entriesByLevel,s=function(e){return!n.forceHidden[buildEntryKey(e)]},i=0;i<a.length;i+=1)a[i]=a[i].filter(s);return r},t.prototype.handleInvalidInsertion=function(t,n,r){var a=this.entriesByLevel,s=this.forceHidden,i=t.touchingEntry,o=t.touchingLevel,l=t.touchingLateral;if(this.hiddenConsumes&&i){var d=buildEntryKey(i);if(!s[d])if(this.allowReslicing){var c=__assign(__assign({},i),{span:intersectSpans(i.span,n.span)});s[buildEntryKey(c)]=!0,a[o][l]=c,this.splitEntry(i,n,r)}else s[d]=!0,r.push(i)}return e.prototype.handleInvalidInsertion.call(this,t,n,r)},t}(SegHierarchy),TableRow=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellElRefs=new RefMap,t.frameElRefs=new RefMap,t.fgElRefs=new RefMap,t.segHarnessRefs=new RefMap,t.rootElRef=createRef(),t.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},t}return __extends(t,e),t.prototype.render=function(){var e=this,t=this,n=t.props,r=t.state,a=t.context.options,s=n.cells.length,i=splitSegsByFirstCol(n.businessHourSegs,s),o=splitSegsByFirstCol(n.bgEventSegs,s),l=splitSegsByFirstCol(this.getHighlightSegs(),s),d=splitSegsByFirstCol(this.getMirrorSegs(),s),c=computeFgSegPlacement(sortEventSegs(n.fgEventSegs,a.eventOrder),n.dayMaxEvents,n.dayMaxEventRows,a.eventOrderStrict,r.eventInstanceHeights,r.maxContentHeight,n.cells),g=c.singleColPlacements,u=c.multiColPlacements,p=c.moreCnts,f=c.moreMarginTops,h=n.eventDrag&&n.eventDrag.affectedInstances||n.eventResize&&n.eventResize.affectedInstances||{};return createElement("tr",{ref:this.rootElRef,role:"row"},n.renderIntro&&n.renderIntro(),n.cells.map((function(t,r){var a=e.renderFgSegs(r,n.forPrint?g[r]:u[r],n.todayRange,h),s=e.renderFgSegs(r,buildMirrorPlacements(d[r],u),n.todayRange,{},Boolean(n.eventDrag),Boolean(n.eventResize),!1);return createElement(TableCell,{key:t.key,elRef:e.cellElRefs.createRef(t.key),innerElRef:e.frameElRefs.createRef(t.key),dateProfile:n.dateProfile,date:t.date,showDayNumber:n.showDayNumbers,showWeekNumber:n.showWeekNumbers&&0===r,forceDayTop:n.showWeekNumbers,todayRange:n.todayRange,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,extraHookProps:t.extraHookProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:p[r],moreMarginTop:f[r],singlePlacements:g[r],fgContentElRef:e.fgElRefs.createRef(t.key),fgContent:createElement(Fragment,null,createElement(Fragment,null,a),createElement(Fragment,null,s)),bgContent:createElement(Fragment,null,e.renderFillSegs(l[r],"highlight"),e.renderFillSegs(i[r],"non-business"),e.renderFillSegs(o[r],"bg-event"))})})))},t.prototype.componentDidMount=function(){this.updateSizing(!0)},t.prototype.componentDidUpdate=function(e,t){var n=this.props;this.updateSizing(!isPropsEqual(e,n))},t.prototype.getHighlightSegs=function(){var e=this.props;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs},t.prototype.getMirrorSegs=function(){var e=this.props;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]},t.prototype.renderFgSegs=function(e,t,n,r,a,s,i){var o=this.context,l=this.props.eventSelection,d=this.state.framePositions,c=1===this.props.cells.length,g=a||s||i,u=[];if(d)for(var p=0,f=t;p<f.length;p++){var h=f[p],y=h.seg,m=y.eventRange.instance.instanceId,v=m+":"+e,E=h.isVisible&&!r[m],R=h.isAbsolute,b="",S="";R&&(o.isRtl?(S=0,b=d.lefts[y.lastCol]-d.lefts[y.firstCol]):(b=0,S=d.rights[y.firstCol]-d.rights[y.lastCol])),u.push(createElement("div",{className:"fc-daygrid-event-harness"+(R?" fc-daygrid-event-harness-abs":""),key:v,ref:g?null:this.segHarnessRefs.createRef(v),style:{visibility:E?"":"hidden",marginTop:R?"":h.marginTop,top:R?h.absoluteTop:"",left:b,right:S}},hasListItemDisplay(y)?createElement(TableListItemEvent,__assign({seg:y,isDragging:a,isSelected:m===l,defaultDisplayEventEnd:c},getSegMeta(y,n))):createElement(TableBlockEvent,__assign({seg:y,isDragging:a,isResizing:s,isDateSelecting:i,isSelected:m===l,defaultDisplayEventEnd:c},getSegMeta(y,n)))))}return u},t.prototype.renderFillSegs=function(e,t){var n=this.context.isRtl,r=this.props.todayRange,a=this.state.framePositions,s=[];if(a)for(var i=0,o=e;i<o.length;i++){var l=o[i],d=n?{right:0,left:a.lefts[l.lastCol]-a.lefts[l.firstCol]}:{left:0,right:a.rights[l.firstCol]-a.rights[l.lastCol]};s.push(createElement("div",{key:buildEventRangeKey(l.eventRange),className:"fc-daygrid-bg-harness",style:d},"bg-event"===t?createElement(BgEvent,__assign({seg:l},getSegMeta(l,r))):renderFill(t)))}return createElement.apply(void 0,__spreadArray([Fragment,{}],s))},t.prototype.updateSizing=function(e){var t=this.props,n=this.frameElRefs;if(!t.forPrint&&null!==t.clientWidth){if(e){var r=t.cells.map((function(e){return n.currentMap[e.key]}));if(r.length){var a=this.rootElRef.current;this.setState({framePositions:new PositionCache(a,r,!0,!1)})}}var s=this.state.eventInstanceHeights,i=this.queryEventInstanceHeights(),o=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({eventInstanceHeights:__assign(__assign({},s),i),maxContentHeight:o?this.computeMaxContentHeight():null})}},t.prototype.queryEventInstanceHeights=function(){var e=this.segHarnessRefs.currentMap,t={};for(var n in e){var r=Math.round(e[n].getBoundingClientRect().height),a=n.split(":")[0];t[a]=Math.max(t[a]||0,r)}return t},t.prototype.computeMaxContentHeight=function(){var e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top},t.prototype.getCellEls=function(){var e=this.cellElRefs.currentMap;return this.props.cells.map((function(t){return e[t.key]}))},t}(DateComponent);function buildMirrorPlacements(e,t){if(!e.length)return[];var n=buildAbsoluteTopHash(t);return e.map((function(e){return{seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:n[e.eventRange.instance.instanceId],marginTop:0}}))}function buildAbsoluteTopHash(e){for(var t={},n=0,r=e;n<r.length;n++)for(var a=0,s=r[n];a<s.length;a++){var i=s[a];t[i.seg.eventRange.instance.instanceId]=i.absoluteTop}return t}TableRow.addStateEquality({eventInstanceHeights:isPropsEqual});var Table=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitBusinessHourSegs=memoize(splitSegsByRow),t.splitBgEventSegs=memoize(splitSegsByRow),t.splitFgEventSegs=memoize(splitSegsByRow),t.splitDateSelectionSegs=memoize(splitSegsByRow),t.splitEventDrag=memoize(splitInteractionByRow),t.splitEventResize=memoize(splitInteractionByRow),t.rowRefs=new RefMap,t.handleRootEl=function(e){t.rootEl=e,e?t.context.registerInteractiveComponent(t,{el:e,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t}return __extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.dateProfile,r=t.dayMaxEventRows,a=t.dayMaxEvents,s=t.expandRows,i=t.cells.length,o=this.splitBusinessHourSegs(t.businessHourSegs,i),l=this.splitBgEventSegs(t.bgEventSegs,i),d=this.splitFgEventSegs(t.fgEventSegs,i),c=this.splitDateSelectionSegs(t.dateSelectionSegs,i),g=this.splitEventDrag(t.eventDrag,i),u=this.splitEventResize(t.eventResize,i),p=!0===a||!0===r;return p&&!s&&(p=!1,r=null,a=null),createElement("div",{className:["fc-daygrid-body",p?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"].join(" "),ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},createElement(NowTimer,{unit:"day"},(function(p,f){return createElement(Fragment,null,createElement("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:s?t.clientHeight:""}},t.colGroupNode,createElement("tbody",{role:"presentation"},t.cells.map((function(s,p){return createElement(TableRow,{ref:e.rowRefs.createRef(p),key:s.length?s[0].date.toISOString():p,showDayNumbers:i>1,showWeekNumbers:t.showWeekNumbers,todayRange:f,dateProfile:n,cells:s,renderIntro:t.renderRowIntro,businessHourSegs:o[p],eventSelection:t.eventSelection,bgEventSegs:l[p].filter(isSegAllDay),fgEventSegs:d[p],dateSelectionSegs:c[p],eventDrag:g[p],eventResize:u[p],dayMaxEvents:a,dayMaxEventRows:r,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint})})))))})))},t.prototype.prepareHits=function(){this.rowPositions=new PositionCache(this.rootEl,this.rowRefs.collect().map((function(e){return e.getCellEls()[0]})),!1,!0),this.colPositions=new PositionCache(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},t.prototype.queryHit=function(e,t){var n=this.colPositions,r=this.rowPositions,a=n.leftToIndex(e),s=r.topToIndex(t);if(null!=s&&null!=a){var i=this.props.cells[s][a];return{dateProfile:this.props.dateProfile,dateSpan:__assign({range:this.getCellRange(s,a),allDay:!0},i.extraDateSpan),dayEl:this.getCellEl(s,a),rect:{left:n.lefts[a],right:n.rights[a],top:r.tops[s],bottom:r.bottoms[s]},layer:0}}return null},t.prototype.getCellEl=function(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]},t.prototype.getCellRange=function(e,t){var n=this.props.cells[e][t].date;return{start:n,end:addDays(n,1)}},t}(DateComponent);function isSegAllDay(e){return e.eventRange.def.allDay}var DayTableSlicer=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return __extends(t,e),t.prototype.sliceRange=function(e,t){return t.sliceRange(e)},t}(Slicer),DayTable=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.slicer=new DayTableSlicer,t.tableRef=createRef(),t}return __extends(t,e),t.prototype.render=function(){var e=this.props,t=this.context;return createElement(Table,__assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))},t}(DateComponent),DayTableView=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayTableModel=memoize(buildDayTableModel),t.headerRef=createRef(),t.tableRef=createRef(),t}return __extends(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,r=t.dateProfileGenerator,a=this.props,s=this.buildDayTableModel(a.dateProfile,r),i=n.dayHeaders&&createElement(DayHeader,{ref:this.headerRef,dateProfile:a.dateProfile,dates:s.headerDates,datesRepDistinctDays:1===s.rowCnt}),o=function(t){return createElement(DayTable,{ref:e.tableRef,dateProfile:a.dateProfile,dayTableModel:s,businessHours:a.businessHours,dateSelection:a.dateSelection,eventStore:a.eventStore,eventUiBases:a.eventUiBases,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize,nextDayThreshold:n.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:n.dayMaxEvents,dayMaxEventRows:n.dayMaxEventRows,showWeekNumbers:n.weekNumbers,expandRows:!a.isHeightAuto,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:a.forPrint})};return n.dayMinWidth?this.renderHScrollLayout(i,o,s.colCnt,n.dayMinWidth):this.renderSimpleLayout(i,o)},t}(TableView);function buildDayTableModel(e,t){var n=new DaySeriesModel(e.renderRange,t);return new DayTableModel(n,/year|month|week/.test(e.currentRangeUnit))}var TableDateProfileGenerator=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.buildRenderRange=function(t,n,r){var a,s=this.props.dateEnv,i=e.prototype.buildRenderRange.call(this,t,n,r),o=i.start,l=i.end;if(/^(year|month)$/.test(n)&&(o=s.startOfWeek(o),(a=s.startOfWeek(l)).valueOf()!==l.valueOf()&&(l=addWeeks(a,1))),this.props.monthMode&&this.props.fixedWeekCount){var d=Math.ceil(diffWeeks(o,l));l=addWeeks(l,6-d)}return{start:o,end:l}},t}(DateProfileGenerator),main=createPlugin({initialView:"dayGridMonth",views:{dayGrid:{component:DayTableView,dateProfileGeneratorClass:TableDateProfileGenerator},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});export default main;export{DayTableView as DayGridView,DayTable,DayTableSlicer,Table,TableView,buildDayTableModel};
//# sourceMappingURL=/sm/9527a46638cb4f1f9a8e3db6da060b9df30cc8fa00b3d463399c647189af6c8f.map