/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@fullcalendar/timegrid@5.11.3/main.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
/*!
FullCalendar v5.11.3
Docs & License: https://fullcalendar.io/
(c) 2022 Adam Shaw
*/
import"./main.css";import{hasBgRendering,Splitter,createFormatter,createElement,ViewContextType,RenderHook,BaseComponent,createRef,diffDays,buildNavLinkAttrs,WeekNumberRoot,getStickyHeaderDates,ViewRoot,SimpleScrollGrid,getStickyFooterScrollbar,NowTimer,NowIndicatorRoot,renderScrollShim,DateComponent,rangeContainsMarker,startOfDay,asRoughMs,createDuration,RefMap,PositionCache,MoreLinkRoot,setRef,SegHierarchy,groupIntersectingEntries,buildEntryKey,binarySearch,getEntrySpanEnd,StandardEvent,DayCellContent,Fragment,getSegMeta,memoize,sortEventSegs,DayCellRoot,buildIsoString,computeEarliestSegStart,buildEventRangeKey,BgEvent,renderFill,addDurations,multiplyDuration,wholeDivideDurations,intersectRanges,Slicer,formatIsoTimeString,DayHeader,DaySeriesModel,DayTableModel,createPlugin}from"@fullcalendar/common";import{__extends,__assign}from"tslib";import{DayTable}from"@fullcalendar/daygrid";var AllDaySplitter=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},t.prototype.getKeysForDateSpan=function(e){return e.allDay?["allDay"]:["timed"]},t.prototype.getKeysForEventDef=function(e){return e.allDay?hasBgRendering(e)?["timed","allDay"]:["allDay"]:["timed"]},t}(Splitter),DEFAULT_SLAT_LABEL_FORMAT=createFormatter({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function TimeColsAxisCell(e){var t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return createElement(ViewContextType.Consumer,null,(function(n){if(!e.isLabeled)return createElement("td",{className:t.join(" "),"data-time":e.isoTimeStr});var r=n.dateEnv,o=n.options,i=n.viewApi,a=null==o.slotLabelFormat?DEFAULT_SLAT_LABEL_FORMAT:Array.isArray(o.slotLabelFormat)?createFormatter(o.slotLabelFormat[0]):createFormatter(o.slotLabelFormat),s={level:0,time:e.time,date:r.toDate(e.date),view:i,text:r.format(e.date,a)};return createElement(RenderHook,{hookProps:s,classNames:o.slotLabelClassNames,content:o.slotLabelContent,defaultContent:renderInnerContent,didMount:o.slotLabelDidMount,willUnmount:o.slotLabelWillUnmount},(function(n,r,o,i){return createElement("td",{ref:n,className:t.concat(r).join(" "),"data-time":e.isoTimeStr},createElement("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},createElement("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:o},i)))}))}))}function renderInnerContent(e){return e.text}var TimeBodyAxis=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){return this.props.slatMetas.map((function(e){return createElement("tr",{key:e.key},createElement(TimeColsAxisCell,__assign({},e)))}))},t}(BaseComponent),DEFAULT_WEEK_NUM_FORMAT=createFormatter({week:"short"}),AUTO_ALL_DAY_MAX_EVENT_ROWS=5,TimeColsView=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allDaySplitter=new AllDaySplitter,t.headerElRef=createRef(),t.rootElRef=createRef(),t.scrollerElRef=createRef(),t.state={slatCoords:null},t.handleScrollTopRequest=function(e){var n=t.scrollerElRef.current;n&&(n.scrollTop=e)},t.renderHeadAxis=function(e,n){void 0===n&&(n="");var r=t.context.options,o=t.props.dateProfile.renderRange,i=1===diffDays(o.start,o.end)?buildNavLinkAttrs(t.context,o.start,"week"):{};return r.weekNumbers&&"day"===e?createElement(WeekNumberRoot,{date:o.start,defaultFormat:DEFAULT_WEEK_NUM_FORMAT},(function(e,t,r,o){return createElement("th",{ref:e,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(t).join(" ")},createElement("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:n}},createElement("a",__assign({ref:r,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},i),o)))})):createElement("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},createElement("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},t.renderTableRowAxis=function(e){var n=t.context,r=n.options,o=n.viewApi,i={text:r.allDayText,view:o};return createElement(RenderHook,{hookProps:i,classNames:r.allDayClassNames,content:r.allDayContent,defaultContent:renderAllDayInner,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount},(function(t,n,r,o){return createElement("td",{ref:t,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(n).join(" ")},createElement("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(null==e?" fc-timegrid-axis-frame-liquid":""),style:{height:e}},createElement("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:r},o)))}))},t.handleSlatCoords=function(e){t.setState({slatCoords:e})},t}return __extends(t,e),t.prototype.renderSimpleLayout=function(e,t,n){var r=this.context,o=this.props,i=[],a=getStickyHeaderDates(r.options);return e&&i.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(i.push({type:"body",key:"all-day",chunk:{content:t}}),i.push({type:"body",key:"all-day-divider",outerContent:createElement("tr",{role:"presentation",className:"fc-scrollgrid-section"},createElement("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),i.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(r.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:n}}),createElement(ViewRoot,{viewSpec:r.viewSpec,elRef:this.rootElRef},(function(e,t){return createElement("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},createElement(SimpleScrollGrid,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,cols:[{width:"shrink"}],sections:i}))}))},t.prototype.renderHScrollLayout=function(e,t,n,r,o,i,a){var s=this,l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");var c=this.context,d=this.props,u=!d.forPrint&&getStickyHeaderDates(c.options),p=!d.forPrint&&getStickyFooterScrollbar(c.options),m=[];e&&m.push({type:"header",key:"header",isSticky:u,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return createElement("tr",{role:"presentation"},s.renderHeadAxis("day",e.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(m.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return createElement("tr",{role:"presentation"},s.renderTableRowAxis(e.rowSyncHeights[0]))}},{key:"cols",content:t}]}),m.push({key:"all-day-divider",type:"body",outerContent:createElement("tr",{role:"presentation",className:"fc-scrollgrid-section"},createElement("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));var f=c.options.nowIndicator;return m.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(c.options.expandRows),chunks:[{key:"axis",content:function(e){return createElement("div",{className:"fc-timegrid-axis-chunk"},createElement("table",{"aria-hidden":!0,style:{height:e.expandRows?e.clientHeight:""}},e.tableColGroupNode,createElement("tbody",null,createElement(TimeBodyAxis,{slatMetas:i}))),createElement("div",{className:"fc-timegrid-now-indicator-container"},createElement(NowTimer,{unit:f?"minute":"day"},(function(e){var t=f&&a&&a.safeComputeTop(e);return"number"==typeof t?createElement(NowIndicatorRoot,{isAxis:!0,date:e},(function(e,n,r,o){return createElement("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(n).join(" "),style:{top:t}},o)})):null}))))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),p&&m.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:renderScrollShim},{key:"cols",content:renderScrollShim}]}),createElement(ViewRoot,{viewSpec:c.viewSpec,elRef:this.rootElRef},(function(e,t){return createElement("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},createElement(l,{liquid:!d.isHeightAuto&&!d.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:o}]}],sections:m}))}))},t.prototype.getAllDayMaxEventProps=function(){var e=this.context.options,t=e.dayMaxEvents,n=e.dayMaxEventRows;return!0!==t&&!0!==n||(t=void 0,n=AUTO_ALL_DAY_MAX_EVENT_ROWS),{dayMaxEvents:t,dayMaxEventRows:n}},t}(DateComponent);function renderAllDayInner(e){return e.text}var TimeColsSlatsCoords=function(){function e(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}return e.prototype.safeComputeTop=function(e){var t=this.dateProfile;if(rangeContainsMarker(t.currentRange,e)){var n=startOfDay(e),r=e.valueOf()-n.valueOf();if(r>=asRoughMs(t.slotMinTime)&&r<asRoughMs(t.slotMaxTime))return this.computeTimeTop(createDuration(r))}return null},e.prototype.computeDateTop=function(e,t){return t||(t=startOfDay(e)),this.computeTimeTop(createDuration(e.valueOf()-t.valueOf()))},e.prototype.computeTimeTop=function(e){var t,n,r=this.positions,o=this.dateProfile,i=r.els.length,a=(e.milliseconds-asRoughMs(o.slotMinTime))/asRoughMs(this.slotDuration);return a=Math.max(0,a),a=Math.min(i,a),t=Math.floor(a),n=a-(t=Math.min(t,i-1)),r.tops[t]+r.getHeight(t)*n},e}(),TimeColsSlatsBody=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,r=e.slatElRefs;return createElement("tbody",null,e.slatMetas.map((function(o,i){var a={time:o.time,date:t.dateEnv.toDate(o.date),view:t.viewApi},s=["fc-timegrid-slot","fc-timegrid-slot-lane",o.isLabeled?"":"fc-timegrid-slot-minor"];return createElement("tr",{key:o.key,ref:r.createRef(o.key)},e.axis&&createElement(TimeColsAxisCell,__assign({},o)),createElement(RenderHook,{hookProps:a,classNames:n.slotLaneClassNames,content:n.slotLaneContent,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount},(function(e,t,n,r){return createElement("td",{ref:e,className:s.concat(t).join(" "),"data-time":o.isoTimeStr},r)})))})))},t}(BaseComponent),TimeColsSlats=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=createRef(),t.slatElRefs=new RefMap,t}return __extends(t,e),t.prototype.render=function(){var e=this.props,t=this.context;return createElement("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},createElement("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,createElement(TimeColsSlatsBody,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))},t.prototype.componentDidMount=function(){this.updateSizing()},t.prototype.componentDidUpdate=function(){this.updateSizing()},t.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},t.prototype.updateSizing=function(){var e=this.context,t=this.props;t.onCoords&&null!==t.clientWidth&&(this.rootElRef.current.offsetHeight&&t.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current,collectSlatEls(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration)))},t}(BaseComponent);function collectSlatEls(e,t){return t.map((function(t){return e[t.key]}))}function splitSegsByCol(e,t){var n,r=[];for(n=0;n<t;n+=1)r.push([]);if(e)for(n=0;n<e.length;n+=1)r[e[n].col].push(e[n]);return r}function splitInteractionByCol(e,t){var n=[];if(e){for(a=0;a<t;a+=1)n[a]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var r=0,o=e.segs;r<o.length;r++){var i=o[r];n[i.col].segs.push(i)}}else for(var a=0;a<t;a+=1)n[a]=null;return n}var TimeColMoreLink=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=createRef(),t}return __extends(t,e),t.prototype.render=function(){var e=this,t=this.props;return createElement(MoreLinkRoot,{allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,alignmentElRef:this.rootElRef,defaultContent:renderMoreLinkInner,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:function(){return renderPlainFgSegs(t.hiddenSegs,t)}},(function(n,r,o,i,a,s,l,c){return createElement("a",{ref:function(t){setRef(n,t),setRef(e.rootElRef,t)},className:["fc-timegrid-more-link"].concat(r).join(" "),style:{top:t.top,bottom:t.bottom},onClick:a,title:s,"aria-expanded":l,"aria-controls":c},createElement("div",{ref:o,className:"fc-timegrid-more-link-inner fc-sticky"},i))}))},t}(BaseComponent);function renderMoreLinkInner(e){return e.shortText}function buildPositioning(e,t,n){var r=new SegHierarchy;null!=t&&(r.strictOrder=t),null!=n&&(r.maxStackCnt=n);var o=r.addSegs(e),i=groupIntersectingEntries(o),a=buildWeb(r);return{segRects:webToRects(a=stretchWeb(a,1)),hiddenGroups:i}}function buildWeb(e){var t=e.entriesByLevel,n=cacheable((function(e,t){return e+":"+t}),(function(r,o){var i=buildNodes(findNextLevelSegs(e,r,o),n),a=t[r][o];return[__assign(__assign({},a),{nextLevelNodes:i[0]}),a.thickness+i[1]]}));return buildNodes(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,n)[0]}function buildNodes(e,t){if(!e)return[[],0];for(var n=e.level,r=e.lateralStart,o=e.lateralEnd,i=r,a=[];i<o;)a.push(t(n,i)),i+=1;return a.sort(cmpDescPressures),[a.map(extractNode),a[0][1]]}function cmpDescPressures(e,t){return t[1]-e[1]}function extractNode(e){return e[0]}function findNextLevelSegs(e,t,n){for(var r=e.levelCoords,o=e.entriesByLevel,i=o[t][n],a=r[t]+i.thickness,s=r.length,l=t;l<s&&r[l]<a;l+=1);for(;l<s;l+=1){for(var c=o[l],d=void 0,u=binarySearch(c,i.span.start,getEntrySpanEnd),p=u[0]+u[1],m=p;(d=c[m])&&d.span.start<i.span.end;)m+=1;if(p<m)return{level:l,lateralStart:p,lateralEnd:m}}return null}function stretchWeb(e,t){var n=cacheable((function(e,t,n){return buildEntryKey(e)}),(function(e,r,o){var i,a=e.nextLevelNodes,s=e.thickness,l=s+o,c=s/l,d=[];if(a.length)for(var u=0,p=a;u<p.length;u++){var m=p[u];if(void 0===i){i=(f=n(m,r,l))[0],d.push(f[1])}else{var f=n(m,i,0);d.push(f[1])}}else i=t;var h=(i-r)*c;return[i-h,__assign(__assign({},e),{thickness:h,nextLevelNodes:d})]}));return e.map((function(e){return n(e,0,0)[1]}))}function webToRects(e){var t=[],n=cacheable((function(e,t,n){return buildEntryKey(e)}),(function(e,n,o){var i=__assign(__assign({},e),{levelCoord:n,stackDepth:o,stackForward:0});return t.push(i),i.stackForward=r(e.nextLevelNodes,n+e.thickness,o+1)+1}));function r(e,t,r){for(var o=0,i=0,a=e;i<a.length;i++){var s=a[i];o=Math.max(n(s,t,r),o)}return o}return r(e,0,0),t}function cacheable(e,t){var n={};return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=e.apply(void 0,r);return i in n?n[i]:n[i]=t.apply(void 0,r)}}function computeSegVCoords(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=0);var o=[];if(n)for(var i=0;i<e.length;i+=1){var a=e[i],s=n.computeDateTop(a.start,t),l=Math.max(s+(r||0),n.computeDateTop(a.end,t));o.push({start:Math.round(s),end:Math.round(l)})}return o}function computeFgSegPlacements(e,t,n,r){for(var o=[],i=[],a=0;a<e.length;a+=1){var s=t[a];s?o.push({index:a,thickness:1,span:s}):i.push(e[a])}for(var l=buildPositioning(o,n,r),c=l.segRects,d=l.hiddenGroups,u=[],p=0,m=c;p<m.length;p++){var f=m[p];u.push({seg:e[f.index],rect:f})}for(var h=0,g=i;h<g.length;h++){var v=g[h];u.push({seg:v,rect:null})}return{segPlacements:u,hiddenGroups:d}}var DEFAULT_TIME_FORMAT=createFormatter({hour:"numeric",minute:"2-digit",meridiem:!1}),TimeColEvent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){var e=["fc-timegrid-event","fc-v-event"];return this.props.isShort&&e.push("fc-timegrid-event-short"),createElement(StandardEvent,__assign({},this.props,{defaultTimeFormat:DEFAULT_TIME_FORMAT,extraClassNames:e}))},t}(BaseComponent),TimeColMisc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){var e=this.props;return createElement(DayCellContent,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraHookProps:e.extraHookProps},(function(e,t){return t&&createElement("div",{className:"fc-timegrid-col-misc",ref:e},t)}))},t}(BaseComponent),TimeCol=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortEventSegs=memoize(sortEventSegs),t}return __extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context,r=n.options.selectMirror,o=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||r&&t.dateSelectionSegs||[],i=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{},a=this.sortEventSegs(t.fgEventSegs,n.options.eventOrder);return createElement(DayCellRoot,{elRef:t.elRef,date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps},(function(n,s,l){return createElement("td",__assign({ref:n,role:"gridcell",className:["fc-timegrid-col"].concat(s,t.extraClassNames||[]).join(" ")},l,t.extraDataAttrs),createElement("div",{className:"fc-timegrid-col-frame"},createElement("div",{className:"fc-timegrid-col-bg"},e.renderFillSegs(t.businessHourSegs,"non-business"),e.renderFillSegs(t.bgEventSegs,"bg-event"),e.renderFillSegs(t.dateSelectionSegs,"highlight")),createElement("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(a,i,!1,!1,!1)),createElement("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(o,{},Boolean(t.eventDrag),Boolean(t.eventResize),Boolean(r))),createElement("div",{className:"fc-timegrid-now-indicator-container"},e.renderNowIndicator(t.nowIndicatorSegs)),createElement(TimeColMisc,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps})))}))},t.prototype.renderFgSegs=function(e,t,n,r,o){var i=this.props;return i.forPrint?renderPlainFgSegs(e,i):this.renderPositionedFgSegs(e,t,n,r,o)},t.prototype.renderPositionedFgSegs=function(e,t,n,r,o){var i=this,a=this.context.options,s=a.eventMaxStack,l=a.eventShortHeight,c=a.eventOrderStrict,d=a.eventMinHeight,u=this.props,p=u.date,m=u.slatCoords,f=u.eventSelection,h=u.todayRange,g=u.nowDate,v=n||r||o,y=computeFgSegPlacements(e,computeSegVCoords(e,p,m,d),c,s),S=y.segPlacements,E=y.hiddenGroups;return createElement(Fragment,null,this.renderHiddenGroups(E,e),S.map((function(e){var a=e.seg,s=e.rect,c=a.eventRange.instance.instanceId,d=v||Boolean(!t[c]&&s),u=computeSegVStyle(s&&s.span),p=!v&&s?i.computeSegHStyle(s):{left:0,right:0},m=Boolean(s)&&s.stackForward>0,y=Boolean(s)&&s.span.end-s.span.start<l;return createElement("div",{className:"fc-timegrid-event-harness"+(m?" fc-timegrid-event-harness-inset":""),key:c,style:__assign(__assign({visibility:d?"":"hidden"},u),p)},createElement(TimeColEvent,__assign({seg:a,isDragging:n,isResizing:r,isDateSelecting:o,isSelected:c===f,isShort:y},getSegMeta(a,h,g))))})))},t.prototype.renderHiddenGroups=function(e,t){var n=this.props,r=n.extraDateSpan,o=n.dateProfile,i=n.todayRange,a=n.nowDate,s=n.eventSelection,l=n.eventDrag,c=n.eventResize;return createElement(Fragment,null,e.map((function(e){var n=computeSegVStyle(e.span),d=compileSegsFromEntries(e.entries,t);return createElement(TimeColMoreLink,{key:buildIsoString(computeEarliestSegStart(d)),hiddenSegs:d,top:n.top,bottom:n.bottom,extraDateSpan:r,dateProfile:o,todayRange:i,nowDate:a,eventSelection:s,eventDrag:l,eventResize:c})})))},t.prototype.renderFillSegs=function(e,t){var n=this.props,r=this.context,o=computeSegVCoords(e,n.date,n.slatCoords,r.options.eventMinHeight).map((function(r,o){var i=e[o];return createElement("div",{key:buildEventRangeKey(i.eventRange),className:"fc-timegrid-bg-harness",style:computeSegVStyle(r)},"bg-event"===t?createElement(BgEvent,__assign({seg:i},getSegMeta(i,n.todayRange,n.nowDate))):renderFill(t))}));return createElement(Fragment,null,o)},t.prototype.renderNowIndicator=function(e){var t=this.props,n=t.slatCoords,r=t.date;return n?e.map((function(e,t){return createElement(NowIndicatorRoot,{isAxis:!1,date:r,key:t},(function(t,o,i,a){return createElement("div",{ref:t,className:["fc-timegrid-now-indicator-line"].concat(o).join(" "),style:{top:n.computeDateTop(e.start,r)}},a)}))})):null},t.prototype.computeSegHStyle=function(e){var t,n,r=this.context,o=r.isRtl,i=r.options.slotEventOverlap,a=e.levelCoord,s=e.levelCoord+e.thickness;i&&(s=Math.min(1,a+2*(s-a))),o?(t=1-s,n=a):(t=a,n=1-s);var l={zIndex:e.stackDepth+1,left:100*t+"%",right:100*n+"%"};return i&&!e.stackForward&&(l[o?"marginLeft":"marginRight"]=20),l},t}(BaseComponent);function renderPlainFgSegs(e,t){var n=t.todayRange,r=t.nowDate,o=t.eventSelection,i=t.eventDrag,a=t.eventResize,s=(i?i.affectedInstances:null)||(a?a.affectedInstances:null)||{};return createElement(Fragment,null,e.map((function(e){var t=e.eventRange.instance.instanceId;return createElement("div",{key:t,style:{visibility:s[t]?"hidden":""}},createElement(TimeColEvent,__assign({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:t===o,isShort:!1},getSegMeta(e,n,r))))})))}function computeSegVStyle(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}function compileSegsFromEntries(e,t){return e.map((function(e){return t[e.index]}))}var TimeColsContent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitFgEventSegs=memoize(splitSegsByCol),t.splitBgEventSegs=memoize(splitSegsByCol),t.splitBusinessHourSegs=memoize(splitSegsByCol),t.splitNowIndicatorSegs=memoize(splitSegsByCol),t.splitDateSelectionSegs=memoize(splitSegsByCol),t.splitEventDrag=memoize(splitInteractionByCol),t.splitEventResize=memoize(splitInteractionByCol),t.rootElRef=createRef(),t.cellElRefs=new RefMap,t}return __extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),r=t.cells.length,o=this.splitFgEventSegs(t.fgEventSegs,r),i=this.splitBgEventSegs(t.bgEventSegs,r),a=this.splitBusinessHourSegs(t.businessHourSegs,r),s=this.splitNowIndicatorSegs(t.nowIndicatorSegs,r),l=this.splitDateSelectionSegs(t.dateSelectionSegs,r),c=this.splitEventDrag(t.eventDrag,r),d=this.splitEventResize(t.eventResize,r);return createElement("div",{className:"fc-timegrid-cols",ref:this.rootElRef},createElement("table",{role:"presentation",style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,createElement("tbody",{role:"presentation"},createElement("tr",{role:"row"},t.axis&&createElement("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},createElement("div",{className:"fc-timegrid-col-frame"},createElement("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof n&&createElement(NowIndicatorRoot,{isAxis:!0,date:t.nowDate},(function(e,t,r,o){return createElement("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(t).join(" "),style:{top:n}},o)}))))),t.cells.map((function(n,r){return createElement(TimeCol,{key:n.key,elRef:e.cellElRefs.createRef(n.key),dateProfile:t.dateProfile,date:n.date,nowDate:t.nowDate,todayRange:t.todayRange,extraHookProps:n.extraHookProps,extraDataAttrs:n.extraDataAttrs,extraClassNames:n.extraClassNames,extraDateSpan:n.extraDateSpan,fgEventSegs:o[r],bgEventSegs:i[r],businessHourSegs:a[r],nowIndicatorSegs:s[r],dateSelectionSegs:l[r],eventDrag:c[r],eventResize:d[r],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint})}))))))},t.prototype.componentDidMount=function(){this.updateCoords()},t.prototype.componentDidUpdate=function(){this.updateCoords()},t.prototype.updateCoords=function(){var e=this.props;e.onColCoords&&null!==e.clientWidth&&e.onColCoords(new PositionCache(this.rootElRef.current,collectCellEls(this.cellElRefs.currentMap,e.cells),!0,!1))},t}(BaseComponent);function collectCellEls(e,t){return t.map((function(t){return e[t.key]}))}var TimeCols=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.processSlotOptions=memoize(processSlotOptions),t.state={slatCoords:null},t.handleRootEl=function(e){e?t.context.registerInteractiveComponent(t,{el:e,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t.handleScrollRequest=function(e){var n=t.props.onScrollTopRequest,r=t.state.slatCoords;if(n&&r){if(e.time){var o=r.computeTimeTop(e.time);(o=Math.ceil(o))&&(o+=1),n(o)}return!0}return!1},t.handleColCoords=function(e){t.colCoords=e},t.handleSlatCoords=function(e){t.setState({slatCoords:e}),t.props.onSlatCoords&&t.props.onSlatCoords(e)},t}return __extends(t,e),t.prototype.render=function(){var e=this.props,t=this.state;return createElement("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},createElement(TimeColsSlats,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),createElement(TimeColsContent,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))},t.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},t.prototype.componentDidUpdate=function(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)},t.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},t.prototype.queryHit=function(e,t){var n=this.context,r=n.dateEnv,o=n.options,i=this.colCoords,a=this.props.dateProfile,s=this.state.slatCoords,l=this.processSlotOptions(this.props.slotDuration,o.snapDuration),c=l.snapDuration,d=l.snapsPerSlot,u=i.leftToIndex(e),p=s.positions.topToIndex(t);if(null!=u&&null!=p){var m=this.props.cells[u],f=s.positions.tops[p],h=s.positions.getHeight(p),g=(t-f)/h,v=p*d+Math.floor(g*d),y=this.props.cells[u].date,S=addDurations(a.slotMinTime,multiplyDuration(c,v)),E=r.add(y,S),C=r.add(E,c);return{dateProfile:a,dateSpan:__assign({range:{start:E,end:C},allDay:!1},m.extraDateSpan),dayEl:i.els[u],rect:{left:i.lefts[u],right:i.rights[u],top:f,bottom:f+h},layer:0}}return null},t}(DateComponent);function processSlotOptions(e,t){var n=t||e,r=wholeDivideDurations(e,n);return null===r&&(n=e,r=1),{snapDuration:n,snapsPerSlot:r}}var DayTimeColsSlicer=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.sliceRange=function(e,t){for(var n=[],r=0;r<t.length;r+=1){var o=intersectRanges(e,t[r]);o&&n.push({start:o.start,end:o.end,isStart:o.start.valueOf()===e.start.valueOf(),isEnd:o.end.valueOf()===e.end.valueOf(),col:r})}return n},t}(Slicer),DayTimeCols=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayRanges=memoize(buildDayRanges),t.slicer=new DayTimeColsSlicer,t.timeColsRef=createRef(),t}return __extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context,r=t.dateProfile,o=t.dayTableModel,i=n.options.nowIndicator,a=this.buildDayRanges(o,r,n.dateEnv);return createElement(NowTimer,{unit:i?"minute":"day"},(function(s,l){return createElement(TimeCols,__assign({ref:e.timeColsRef},e.slicer.sliceProps(t,r,null,n,a),{forPrint:t.forPrint,axis:t.axis,dateProfile:r,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:o.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:s,nowIndicatorSegs:i&&e.slicer.sliceNowDate(s,n,a),todayRange:l,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords}))}))},t}(DateComponent);function buildDayRanges(e,t,n){for(var r=[],o=0,i=e.headerDates;o<i.length;o++){var a=i[o];r.push({start:n.add(a,t.slotMinTime),end:n.add(a,t.slotMaxTime)})}return r}var STOCK_SUB_DURATIONS=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function buildSlatMetas(e,t,n,r,o){for(var i=new Date(0),a=e,s=createDuration(0),l=n||computeLabelInterval(r),c=[];asRoughMs(a)<asRoughMs(t);){var d=o.add(i,a),u=null!==wholeDivideDurations(s,l);c.push({date:d,time:a,key:d.toISOString(),isoTimeStr:formatIsoTimeString(d),isLabeled:u}),a=addDurations(a,r),s=addDurations(s,r)}return c}function computeLabelInterval(e){var t,n,r;for(t=STOCK_SUB_DURATIONS.length-1;t>=0;t-=1)if(n=createDuration(STOCK_SUB_DURATIONS[t]),null!==(r=wholeDivideDurations(n,e))&&r>1)return n;return e}var DayTimeColsView=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildTimeColsModel=memoize(buildTimeColsModel),t.buildSlatMetas=memoize(buildSlatMetas),t}return __extends(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,r=t.dateEnv,o=t.dateProfileGenerator,i=this.props,a=i.dateProfile,s=this.buildTimeColsModel(a,o),l=this.allDaySplitter.splitProps(i),c=this.buildSlatMetas(a.slotMinTime,a.slotMaxTime,n.slotLabelInterval,n.slotDuration,r),d=n.dayMinWidth,u=!d,p=d,m=n.dayHeaders&&createElement(DayHeader,{dates:s.headerDates,dateProfile:a,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),f=!1!==n.allDaySlot&&function(t){return createElement(DayTable,__assign({},l.allDay,{dateProfile:a,dayTableModel:s,nextDayThreshold:n.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:u?e.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:i.forPrint},e.getAllDayMaxEventProps()))},h=function(t){return createElement(DayTimeCols,__assign({},l.timed,{dayTableModel:s,dateProfile:a,axis:u,slotDuration:n.slotDuration,slatMetas:c,forPrint:i.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:e.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:e.handleScrollTopRequest}))};return p?this.renderHScrollLayout(m,f,h,s.colCnt,d,c,this.state.slatCoords):this.renderSimpleLayout(m,f,h)},t}(TimeColsView);function buildTimeColsModel(e,t){var n=new DaySeriesModel(e.renderRange,t);return new DayTableModel(n,!1)}var OPTION_REFINERS={allDaySlot:Boolean},main=createPlugin({initialView:"timeGridWeek",optionRefiners:OPTION_REFINERS,views:{timeGrid:{component:DayTimeColsView,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});export default main;export{DayTimeCols,DayTimeColsSlicer,DayTimeColsView,TimeCols,TimeColsSlatsCoords,TimeColsView,buildDayRanges,buildSlatMetas,buildTimeColsModel};
//# sourceMappingURL=/sm/3ca7679da55c3b8a325e8ec2a26706b699149b862c440af10f3d5df12a968cd4.map